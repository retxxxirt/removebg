language: python
python:
  - '3.8'
env:
  global:
    - secure: "RCHz53uzwIvXON0o5dd0VshUpf/DFhpt653ml/hpIT1aAfQPDv0lEaSwr0zK3A9flxjKTM49FBn1r7Au8BbMhyXAmXqhMNFnCSGIlEkaKnSGCYssIpO1tjnRv8Fs7xD8LjQCCK7tqduK0B3KVoAh9wZ0jb9Dse7lHGAq4T1EIBSkfkqmARcI7J759lMfB4OcJ1RZbgWCZVfsxuxPc/wzptdyScsDH5S3x//THrFozPgnG45uZZExykj6RhPwv9p2+XZsVdFeBu14qTLa5g1OHjXaFnHuE7mQ2fBSwsxeNCdYhlSDN/sEhJp2TEQ+qVxU8Px7F4PW0X+y/69Lgl1sb7ij2KGlGDKn7gGl38Ap/sFE+tR3nN8vr2Eb0D2wrj/t+QAVUzAt5NYnJfAIAYuP3YvjMfLoKEB0bRfmbLeRN/tvaP79uz/q8AxuRgTotunYKUfbFctm1z9vjfr4EzZ848EyyLHMCUFKx7SqzRxYdJHo81l9DX9irU2wDKqxPd/oSUVgFPak4XSnR9Ts+WfvPueAfdyjQQmS4GzL4sD4hILjzaBVz2NfhY9CLOBwGTJAw9H/hK75C4/io5j8FMIyaXP0CTQdBNLo45Ujhoegd3/zLFigzhF773URyKMXIkkcNCnyXQ+/scG959Nmybkp4Uxd8eD02+BlVlTHK/lt7uY="
    - secure: "FsvPVqwoerMnYfwPO6u2rjaPH00ln7Dz7k0IgPmKBGPrMGj8IT0+KVfydyAqBmkSVvL6H9V/S/+6AJFLeeLjMvyyLlcnkFH5tBKP/5C+eFP9Ye0Au5gNUVZFLGT/ig4dpcY6uLDvUgfPJLe247r4bgfpT9LEEm8esg+xOzUMumHfQqqtCNKHoYCPad3Z061lfXkYnjCgzKvP6xmOAeH6u4fCkCUF709VJblWCyaZtr3cM5IwdMeUfqep/eHElR9/QJlEt7/D152xhUlSPJRy3G6fmFKqeP6ff86tulMb9NAjssTMEMWZhh9/4VR5/Jh492NXtBckGsP3N8zM59IQwUingwBCSwivxSZAAiMmSKjBTTyg3599G6IkP93eFqCWt7EiN/NYBKWW5xbZ/y+YRSvcpmZJ6su8Y/98CJz9nsKVZrZbcHoS+mmQP+LRVMj5gM+yeDZYO9Y7ewVAjdxt6+LqtDi8KxLeqHa4cwHvaO827oF7+b5hs4w/O6etv5YU272ZPAcVJV+fDEzDIX4tTc+T8vhiu51FJE6A5yAAjkF4Ad5X11gFAH3rqX52M2AAqhJlyb/YjPSWdzcniCRbfASumXZHTNcwJNNXAtji9gnCJUFybhRz+dDg2Hg/bDEA//WTGypf8PbS4JPBvwf2xHGoPVuONdBF4/diGUDNOjg="
    - secure: "ib9EHf9n2RAYtiLkjZCT/YtFijIQSDcZd8W23beMYkt0U+gf4WTr59mtRllsaJqeujahd/XJ8rJ237xVrloRuqfQLZdgnSA/ITVdmXgWDyQO98vsZ84GBiDI4AsPuOhtElquQ4vZuXn7c2dvhEey2Rx1cAy6ky4mhkuII6cUa9qhAtJpF/3mm3HLg7CBhhDuTQvFL9NNBw1oIUYDSmEDgGI+9jmexra3LEu5+kEu+pW/B330AvfeBLOenIm+LVBKb7ffUsvnm2EOj39vIeQilzbg88io+3J/3Hj0ztRV+QrkQWugTOaMhNxNQYYl0QSBlFZRivjLz0jkDApzXPYmNwZjQWbWMbkZJB8z5KhcQ450PfGdG9BVzzfZr3QKJtJ/uKKa8pEzJqfVpYSSSsP7gaQHHXFG3sg8fRZzMs3SOESR4yEeXQpDs766Hz75LN4pfNh5KM1ooBPLmxz3h1+9orhB1g9hubz2jSAGEUI6GiKm/bQxdv0zZQ6bCPLpQUO2czkh1RdIERocGTXCmT0cnaRn5jZbyUapg7FN6OyrOGzL67m80NeLAdBoamcNiz1yZ5/gdYDL6kdlMWRpMp6i1GsiDbkfUUMmIxVldAyxrCjTfpUrTWVnhOzBOpU8YFWA35To6tGjCIYf1SJJ2iCPTg/hlAiy6UH0N3zy11JKskA="
    - secure: "I4caLfAFN8+IHIuAAUIc6x2ekadDIkQ32vlTk4M27GUabDMkltqlgJlfy24/4pjwjVKjafac5RJ7rA1jxj4guv3XAK5xAK9TvyYw1Pslq29B3Bj3ojCHmbZ4M0yFH1fpXrk4est1QuyfYoguejuOvSMFMl3EX4LG9T6jMJ+dKkshBX+4OHn72adwQy2sf5scl7PYvSiNlXWPb7Drp/gaX32B86XIYp9Aef2JpkjGQUjX++XMpSeVblNFmI/J6gf7CkFIKWrHuCg21Azf82n1zWhqZX2v0mUh33rkPR+D1es47BbBZw7D6ICBVNW2fNGfK0TIBcJySDmMxVsvNeKlFUV4rskHjTvHZsCVIRXs4kzHj7siV7jHLpYnIYIx+osGpybaxP1m7lPv6PoKKuXtg99QfcGwrkuLk8x0EJg6qW2Z5O/jHF1XdiA1tNG+FwcCLx3jsbp3fLyrEaOwvn6AUPG/K253+k1nkl2a8jAhfICdbLn9qLG2dJPqhtNwkUcQndQrkeb2fGaJ4SIVz6wOWVrGjTXsBvd76f2SdWNyJCF6KpsenP/KfDNjKFfzpSBq9+FDjmCVNDUjyy6AKgpo44Xi5ta2v7iG8p/09te5ZhqmnrlTiKqtFEq5T3OaleNXu/J6BILVZ0GV1v7LSfBpHXo0H9Xro6cR2CEsuE932xs="
install:
  - pip install -e .[test]
script:
  - python -m unittest discover -s tests
deploy:
  provider: pypi
  user: "retxxxirt"
  password:
    secure: "fs6fmbtgSX5ckKD5okIoscVr5sbLiAGz+i6gQJpranrXHBMENXPTDlCFO/QDi16tx9Mk7PSHfg0yg0EengA8AfBjCDBiAtaMx89/wYaBCKwDamh7zhFMuCVWWq8mgBVGij73sBxB1vSPeZoEiM0Ror/AKNGZbi5Be1MxsF+NUBs6dXsS66Jk+s1IeeXnLiwGEPNEq0japdMpB8Kh3XNX+TA1QACrWmpyc6YIMPuu9DZ/MTQFzIvji0U3DkPTVB9+waQ5HVG+q4HtPll/fT5dn48iZDIQQReUpeLRYzyKK1l57X7WAKs34g3ATk5tcCbD3rPgxlgZQFce0BP0eqfpjeftpdsNqkc/saEcFCmE3sAMX4I2wtaCz77y4dICtZfhqOXPOv0nzMKa/WrWpSRcFTPumWPOYtVLK8uALzkeil+30cNJfIX+ItuOI3bRjnB0Q6m0cwAjXSrwERSJhCAUIk3J3D3un4XpPgUSfwOpZFk9j+7jOWYFHXqBgx0HJO+QINTAY6UrqIFSq9GdsFXmT7UubwemO2TFaiLfImTvjACKDVN0L4/+13lePrXDr4u5Rf8DfFEHeQzgMPq2KzL3O3SeEM+QenGYb8p/l4DZxniBFUgaTOVX0cvqk46PQCamaBfAYlruJY8fuSWQq+MCJIZLak7veqnF1Zpy+jmyuxI="
  on:
    branch: production